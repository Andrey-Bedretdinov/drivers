- Написать PCI-драйвер с probe и release для сетевого адаптера
- Вставить во функцию probe инициализацию сетевого драйвера и регистрацию устройства
- Реализовать чтение MAC-адреса

---

## Сборка модуля (make)

Сначала соберём модуль командой `make`.

```shell
andrey@drivers-vm:~/drivers/practice/6$ make
make -C /lib/modules/6.8.0-87-generic/build M=/home/andrey/drivers/practice/6 modules
make[1]: вход в каталог «/usr/src/linux-headers-6.8.0-87-generic»
warning: the compiler differs from the one used to build the kernel
  The kernel was built by: x86_64-linux-gnu-gcc-12 (Ubuntu 12.3.0-1ubuntu1~22.04.2) 12.3.0
  You are using:           gcc-12 (Ubuntu 12.3.0-1ubuntu1~22.04.2) 12.3.0
make[1]: выход из каталога «/usr/src/linux-headers-6.8.0-87-generic»
```

## Загрузка модуля (insmod)

Загружаем собранный модуль командой `insmod`:

```shell
andrey@drivers-vm:~/drivers/practice/6$ sudo insmod pci_net_driver.ko
```

## Отключение штатного драйвера e1000e

Перед тем как назначить устройство нашему драйверу, отключаем стандартный драйвер e1000e:

```shell
andrey@drivers-vm:~/drivers/practice/6$ echo "0000:01:00.0" | sudo tee /sys/bus/pci/drivers/e1000e/unbind
0000:01:00.0
andrey@drivers-vm:~/drivers/practice/6$ ls -l /sys/bus/pci/drivers/e1000e
итого 0
--w------- 1 root root 4096 дек  8 13:34 bind
lrwxrwxrwx 1 root root    0 дек  8 13:23 module -> ../../../../module/e1000e
--w------- 1 root root 4096 дек  8 13:23 new_id
--w------- 1 root root 4096 дек  8 13:23 remove_id
--w------- 1 root root 4096 дек  8 12:46 uevent
--w------- 1 root root 4096 дек  8 13:35 unbind
```

## Назначение PCI-устройства нашему драйверу

Теперь назначаем PCI-устройство (сетевую карту) нашему драйверу:

```shell
andrey@drivers-vm:~/drivers/practice/6$ echo "0000:01:00.0" | sudo tee /sys/bus/pci/drivers/pci_net_demo/bind
0000:01:00.0
andrey@drivers-vm:~/drivers/practice/6$ ls -l /sys/bus/pci/drivers/pci_net_demo
итого 0
lrwxrwxrwx 1 root root    0 дек  8 13:35 0000:01:00.0 -> ../../../../devices/pci0000:00/0000:00:02.0/0000:01:00.0
--w------- 1 root root 4096 дек  8 13:35 bind
lrwxrwxrwx 1 root root    0 дек  8 13:35 module -> ../../../../module/pci_net_driver
--w------- 1 root root 4096 дек  8 13:35 new_id
--w------- 1 root root 4096 дек  8 13:35 remove_id
--w------- 1 root root 4096 дек  8 13:35 uevent
--w------- 1 root root 4096 дек  8 13:35 unbind
```

## Вывод ядра (dmesg)

Проверим сообщения ядра, чтобы убедиться, что драйвер загрузился, устройство привязано, MAC-адрес получен и пакеты принимаются:

```shell
andrey@drivers-vm:~/drivers/practice/6$ sudo dmesg | tail -n 200
[ 2917.660984] e1000e 0000:01:00.0: Interrupt Throttling Rate (ints/sec) set to dynamic conservative mode
[ 2917.701769] e1000e 0000:01:00.0 0000:01:00.0 (uninitialized): registered PHC clock
[ 2917.751098] e1000e 0000:01:00.0 eth0: (PCI Express:2.5GT/s:Width x1) 52:54:00:24:af:60
[ 2917.751105] e1000e 0000:01:00.0 eth0: Intel(R) PRO/1000 Network Connection
[ 2917.751161] e1000e 0000:01:00.0 eth0: MAC: 3, PHY: 8, PBA No: 000000-000
[ 2917.760570] e1000e 0000:01:00.0 enp1s0: renamed from eth0
[ 2918.333174] e1000e 0000:01:00.0 enp1s0: NIC Link is Up 1000 Mbps Full Duplex, Flow Control: Rx/Tx
[ 2957.136618] e1000e 0000:01:00.0 enp1s0: removed PHC
[ 2957.197425] e1000e 0000:01:00.0 enp1s0: NIC Link is Down
[ 2978.998262] pci_net: probe вызван для устройства 8086:10d3
[ 2978.999317] pci_net: MAC-адрес = 52:54:00:24:af:60
[ 2978.999527] pci_net: интерфейс зарегистрирован как eth0
[ 2979.015723] pci_net: интерфейс открыт
[ 2979.021176] pci_net: пакет получен в hard_start_xmit, длина=330 байт
[ 2979.021181] pci_net пакет: 00000000: ff ff ff ff ff ff 52 54 00 24 af 60 08 00 45 c0  ......RT.$.`..E.
[ 2979.021183] pci_net пакет: 00000010: 01 3c 00 00 40 00 40 11 38 f2 00 00 00 00 ff ff  .<..@.@.8.......
[ 2979.021184] pci_net пакет: 00000020: ff ff 00 44 00 43 01 28 4f ca 01 01 06 00 8d 2b  ...D.C.(O......+
[ 2979.021185] pci_net пакет: 00000030: 13 75 00 01 00 00 00 00 00 00 00 00 00 00 00 00  .u..............
[ 2979.021186] pci_net пакет: 00000040: 00 00 00 00 00 00 52 54 00 24 af 60 00 00 00 00  ......RT.$.`....
[ 2979.021187] pci_net пакет: 00000050: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021188] pci_net пакет: 00000060: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021188] pci_net пакет: 00000070: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021189] pci_net пакет: 00000080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021190] pci_net пакет: 00000090: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021191] pci_net пакет: 000000a0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021191] pci_net пакет: 000000b0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021192] pci_net пакет: 000000c0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021193] pci_net пакет: 000000d0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021193] pci_net пакет: 000000e0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021194] pci_net пакет: 000000f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021195] pci_net пакет: 00000100: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2979.021196] pci_net пакет: 00000110: 00 00 00 00 00 00 63 82 53 63 35 01 01 3d 07 01  ......c.Sc5..=..
[ 2979.021197] pci_net пакет: 00000120: 52 54 00 24 af 60 37 11 01 02 06 0c 0f 1a 1c 79  RT.$.`7........y
[ 2979.021197] pci_net пакет: 00000130: 03 21 28 29 2a 77 f9 fc 11 39 02 02 40 0c 0a 64  .!()*w...9..@..d
[ 2979.021198] pci_net пакет: 00000140: 72 69 76 65 72 73 2d 76 6d ff                    rivers-vm.
[ 2979.024711] pci_net: пакет получен в hard_start_xmit, длина=110 байт
[ 2979.024717] pci_net пакет: 00000000: 33 33 00 00 00 16 52 54 00 24 af 60 86 dd 60 00  33....RT.$.`..`.
[ 2979.024718] pci_net пакет: 00000010: 00 00 00 38 00 01 00 00 00 00 00 00 00 00 00 00  ...8............
[ 2979.024719] pci_net пакет: 00000020: 00 00 00 00 00 00 ff 02 00 00 00 00 00 00 00 00  ................
[ 2979.024720] pci_net пакет: 00000030: 00 00 00 00 00 16 3a 00 05 02 00 00 01 00 8f 00  ......:.........
[ 2979.024721] pci_net пакет: 00000040: 34 fe 00 00 00 02 04 00 00 00 ff 02 00 00 00 00  4...............
[ 2979.024722] pci_net пакет: 00000050: 00 00 00 00 00 00 00 00 00 fb 04 00 00 00 ff 02  ................
[ 2979.024723] pci_net пакет: 00000060: 00 00 00 00 00 00 00 00 00 01 ff f0 35 89        ............5.
[ 2979.031482] pci_net: пакет получен в hard_start_xmit, длина=110 байт
[ 2979.031488] pci_net пакет: 00000000: 33 33 00 00 00 16 52 54 00 24 af 60 86 dd 60 00  33....RT.$.`..`.
[ 2979.031489] pci_net пакет: 00000010: 00 00 00 38 00 01 00 00 00 00 00 00 00 00 00 00  ...8............
[ 2979.031490] pci_net пакет: 00000020: 00 00 00 00 00 00 ff 02 00 00 00 00 00 00 00 00  ................
[ 2979.031491] pci_net пакет: 00000030: 00 00 00 00 00 16 3a 00 05 02 00 00 01 00 8f 00  ......:.........
[ 2979.031492] pci_net пакет: 00000040: 34 fe 00 00 00 02 04 00 00 00 ff 02 00 00 00 00  4...............
[ 2979.031493] pci_net пакет: 00000050: 00 00 00 00 00 00 00 00 00 fb 04 00 00 00 ff 02  ................
[ 2979.031493] pci_net пакет: 00000060: 00 00 00 00 00 00 00 00 00 01 ff f0 35 89        ............5.
[ 2979.585694] pci_net: пакет получен в hard_start_xmit, длина=86 байт
[ 2979.585701] pci_net пакет: 00000000: 33 33 ff f0 35 89 52 54 00 24 af 60 86 dd 60 00  33..5.RT.$.`..`.
[ 2979.585703] pci_net пакет: 00000010: 00 00 00 20 3a ff 00 00 00 00 00 00 00 00 00 00  ... :...........
[ 2979.585705] pci_net пакет: 00000020: 00 00 00 00 00 00 ff 02 00 00 00 00 00 00 00 00  ................
[ 2979.585706] pci_net пакет: 00000030: 00 01 ff f0 35 89 87 00 32 14 00 00 00 00 fe 80  ....5...2.......
[ 2979.585707] pci_net пакет: 00000040: 00 00 00 00 00 00 3a f6 f5 99 7d f0 35 89 0e 01  ......:...}.5...
[ 2979.585709] pci_net пакет: 00000050: a0 65 75 38 0b e9                                .eu8..
[ 2980.610009] pci_net: пакет получен в hard_start_xmit, длина=110 байт
[ 2980.610014] pci_net пакет: 00000000: 33 33 00 00 00 16 52 54 00 24 af 60 86 dd 60 00  33....RT.$.`..`.
[ 2980.610016] pci_net пакет: 00000010: 00 00 00 38 00 01 fe 80 00 00 00 00 00 00 3a f6  ...8..........:.
[ 2980.610017] pci_net пакет: 00000020: f5 99 7d f0 35 89 ff 02 00 00 00 00 00 00 00 00  ..}.5...........
[ 2980.610018] pci_net пакет: 00000030: 00 00 00 00 00 16 3a 00 05 02 00 00 01 00 8f 00  ......:.........
[ 2980.610018] pci_net пакет: 00000040: 52 73 00 00 00 02 04 00 00 00 ff 02 00 00 00 00  Rs..............
[ 2980.610019] pci_net пакет: 00000050: 00 00 00 00 00 00 00 00 00 fb 04 00 00 00 ff 02  ................
[ 2980.610020] pci_net пакет: 00000060: 00 00 00 00 00 00 00 00 00 01 ff f0 35 89        ............5.
[ 2980.644379] pci_net: пакет получен в hard_start_xmit, длина=62 байт
[ 2980.644385] pci_net пакет: 00000000: 33 33 00 00 00 02 52 54 00 24 af 60 86 dd 60 04  33....RT.$.`..`.
[ 2980.644387] pci_net пакет: 00000010: b9 a9 00 08 3a ff fe 80 00 00 00 00 00 00 3a f6  ....:.........:.
[ 2980.644389] pci_net пакет: 00000020: f5 99 7d f0 35 89 ff 02 00 00 00 00 00 00 00 00  ..}.5...........
[ 2980.644390] pci_net пакет: 00000030: 00 00 00 00 00 02 85 00 99 2d 00 00 00 00        .........-....
[ 2980.913767] pci_net: пакет получен в hard_start_xmit, длина=110 байт
[ 2980.913772] pci_net пакет: 00000000: 33 33 00 00 00 16 52 54 00 24 af 60 86 dd 60 00  33....RT.$.`..`.
[ 2980.913774] pci_net пакет: 00000010: 00 00 00 38 00 01 fe 80 00 00 00 00 00 00 3a f6  ...8..........:.
[ 2980.913775] pci_net пакет: 00000020: f5 99 7d f0 35 89 ff 02 00 00 00 00 00 00 00 00  ..}.5...........
[ 2980.913776] pci_net пакет: 00000030: 00 00 00 00 00 16 3a 00 05 02 00 00 01 00 8f 00  ......:.........
[ 2980.913777] pci_net пакет: 00000040: 52 73 00 00 00 02 04 00 00 00 ff 02 00 00 00 00  Rs..............
[ 2980.913778] pci_net пакет: 00000050: 00 00 00 00 00 00 00 00 00 fb 04 00 00 00 ff 02  ................
[ 2980.913779] pci_net пакет: 00000060: 00 00 00 00 00 00 00 00 00 01 ff f0 35 89        ............5.
[ 2981.190917] pci_net: пакет получен в hard_start_xmit, длина=330 байт
[ 2981.190931] pci_net пакет: 00000000: ff ff ff ff ff ff 52 54 00 24 af 60 08 00 45 c0  ......RT.$.`..E.
[ 2981.190933] pci_net пакет: 00000010: 01 3c 00 00 40 00 40 11 38 f2 00 00 00 00 ff ff  .<..@.@.8.......
[ 2981.190935] pci_net пакет: 00000020: ff ff 00 44 00 43 01 28 bb 26 01 01 06 00 33 ca  ...D.C.(.&....3.
[ 2981.190936] pci_net пакет: 00000030: 01 79 00 02 00 00 00 00 00 00 00 00 00 00 00 00  .y..............
[ 2981.190937] pci_net пакет: 00000040: 00 00 00 00 00 00 52 54 00 24 af 60 00 00 00 00  ......RT.$.`....
[ 2981.190939] pci_net пакет: 00000050: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190939] pci_net пакет: 00000060: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190940] pci_net пакет: 00000070: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190941] pci_net пакет: 00000080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190942] pci_net пакет: 00000090: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190943] pci_net пакет: 000000a0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190944] pci_net пакет: 000000b0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190945] pci_net пакет: 000000c0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190945] pci_net пакет: 000000d0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190946] pci_net пакет: 000000e0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190947] pci_net пакет: 000000f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190948] pci_net пакет: 00000100: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2981.190949] pci_net пакет: 00000110: 00 00 00 00 00 00 63 82 53 63 35 01 01 3d 07 01  ......c.Sc5..=..
[ 2981.190950] pci_net пакет: 00000120: 52 54 00 24 af 60 37 11 01 02 06 0c 0f 1a 1c 79  RT.$.`7........y
[ 2981.190951] pci_net пакет: 00000130: 03 21 28 29 2a 77 f9 fc 11 39 02 02 40 0c 0a 64  .!()*w...9..@..d
[ 2981.190952] pci_net пакет: 00000140: 72 69 76 65 72 73 2d 76 6d ff                    rivers-vm.
[ 2981.216527] pci_net: пакет получен в hard_start_xmit, длина=204 байт
[ 2981.216533] pci_net пакет: 00000000: 33 33 00 00 00 fb 52 54 00 24 af 60 86 dd 60 04  33....RT.$.`..`.
[ 2981.216535] pci_net пакет: 00000010: 77 cd 00 96 11 ff fe 80 00 00 00 00 00 00 3a f6  w.............:.
[ 2981.216536] pci_net пакет: 00000020: f5 99 7d f0 35 89 ff 02 00 00 00 00 00 00 00 00  ..}.5...........
[ 2981.216537] pci_net пакет: 00000030: 00 00 00 00 00 fb 14 e9 14 e9 00 96 1b 1e 00 00  ................
[ 2981.216538] pci_net пакет: 00000040: 84 00 00 00 00 02 00 00 00 00 01 39 01 38 01 35  ...........9.8.5
[ 2981.216539] pci_net пакет: 00000050: 01 33 01 30 01 66 01 64 01 37 01 39 01 39 01 35  .3.0.f.d.7.9.9.5
[ 2981.216540] pci_net пакет: 00000060: 01 66 01 36 01 66 01 61 01 33 01 30 01 30 01 30  .f.6.f.a.3.0.0.0
[ 2981.216541] pci_net пакет: 00000070: 01 30 01 30 01 30 01 30 01 30 01 30 01 30 01 30  .0.0.0.0.0.0.0.0
[ 2981.216542] pci_net пакет: 00000080: 01 30 01 30 01 38 01 65 01 66 03 69 70 36 04 61  .0.0.8.e.f.ip6.a
[ 2981.216543] pci_net пакет: 00000090: 72 70 61 00 00 0c 80 01 00 00 00 78 00 12 0a 64  rpa........x...d
[ 2981.216544] pci_net пакет: 000000a0: 72 69 76 65 72 73 2d 76 6d 05 6c 6f 63 61 6c 00  rivers-vm.local.
[ 2981.216545] pci_net пакет: 000000b0: c0 60 00 1c 80 01 00 00 00 78 00 10 fe 80 00 00  .`.......x......
[ 2981.216546] pci_net пакет: 000000c0: 00 00 00 00 3a f6 f5 99 7d f0 35 89              ....:...}.5.
[ 2982.124300] pci_net: пакет получен в hard_start_xmit, длина=107 байт
[ 2982.124307] pci_net пакет: 00000000: 33 33 00 00 00 fb 52 54 00 24 af 60 86 dd 60 04  33....RT.$.`..`.
[ 2982.124309] pci_net пакет: 00000010: 77 cd 00 35 11 ff fe 80 00 00 00 00 00 00 3a f6  w..5..........:.
[ 2982.124310] pci_net пакет: 00000020: f5 99 7d f0 35 89 ff 02 00 00 00 00 00 00 00 00  ..}.5...........
[ 2982.124311] pci_net пакет: 00000030: 00 00 00 00 00 fb 14 e9 14 e9 00 35 f1 ae 00 00  ...........5....
[ 2982.124312] pci_net пакет: 00000040: 00 00 00 02 00 00 00 00 00 00 05 5f 69 70 70 73  ..........._ipps
[ 2982.124313] pci_net пакет: 00000050: 04 5f 74 63 70 05 6c 6f 63 61 6c 00 00 0c 00 01  ._tcp.local.....
[ 2982.124314] pci_net пакет: 00000060: 04 5f 69 70 70 c0 12 00 0c 00 01                 ._ipp......
[ 2983.438410] pci_net: пакет получен в hard_start_xmit, длина=204 байт
[ 2983.438425] pci_net пакет: 00000000: 33 33 00 00 00 fb 52 54 00 24 af 60 86 dd 60 04  33....RT.$.`..`.
[ 2983.438428] pci_net пакет: 00000010: 77 cd 00 96 11 ff fe 80 00 00 00 00 00 00 3a f6  w.............:.
[ 2983.438429] pci_net пакет: 00000020: f5 99 7d f0 35 89 ff 02 00 00 00 00 00 00 00 00  ..}.5...........
[ 2983.438431] pci_net пакет: 00000030: 00 00 00 00 00 fb 14 e9 14 e9 00 96 1b 1e 00 00  ................
[ 2983.438432] pci_net пакет: 00000040: 84 00 00 00 00 02 00 00 00 00 01 39 01 38 01 35  ...........9.8.5
[ 2983.438432] pci_net пакет: 00000050: 01 33 01 30 01 66 01 64 01 37 01 39 01 39 01 35  .3.0.f.d.7.9.9.5
[ 2983.438433] pci_net пакет: 00000060: 01 66 01 36 01 66 01 61 01 33 01 30 01 30 01 30  .f.6.f.a.3.0.0.0
[ 2983.438434] pci_net пакет: 00000070: 01 30 01 30 01 30 01 30 01 30 01 30 01 30 01 30  .0.0.0.0.0.0.0.0
[ 2983.438435] pci_net пакет: 00000080: 01 30 01 30 01 38 01 65 01 66 03 69 70 36 04 61  .0.0.8.e.f.ip6.a
[ 2983.438436] pci_net пакет: 00000090: 72 70 61 00 00 0c 80 01 00 00 00 78 00 12 0a 64  rpa........x...d
[ 2983.438437] pci_net пакет: 000000a0: 72 69 76 65 72 73 2d 76 6d 05 6c 6f 63 61 6c 00  rivers-vm.local.
[ 2983.438438] pci_net пакет: 000000b0: c0 60 00 1c 80 01 00 00 00 78 00 10 fe 80 00 00  .`.......x......
[ 2983.438439] pci_net пакет: 000000c0: 00 00 00 00 3a f6 f5 99 7d f0 35 89              ....:...}.5.
[ 2984.998493] pci_net: пакет получен в hard_start_xmit, длина=62 байт
[ 2984.998500] pci_net пакет: 00000000: 33 33 00 00 00 02 52 54 00 24 af 60 86 dd 60 04  33....RT.$.`..`.
[ 2984.998502] pci_net пакет: 00000010: b9 a9 00 08 3a ff fe 80 00 00 00 00 00 00 3a f6  ....:.........:.
[ 2984.998503] pci_net пакет: 00000020: f5 99 7d f0 35 89 ff 02 00 00 00 00 00 00 00 00  ..}.5...........
[ 2984.998504] pci_net пакет: 00000030: 00 00 00 00 00 02 85 00 99 2d 00 00 00 00        .........-....
[ 2985.729204] pci_net: пакет получен в hard_start_xmit, длина=330 байт
[ 2985.729217] pci_net пакет: 00000000: ff ff ff ff ff ff 52 54 00 24 af 60 08 00 45 c0  ......RT.$.`..E.
[ 2985.729220] pci_net пакет: 00000010: 01 3c 00 00 40 00 40 11 38 f2 00 00 00 00 ff ff  .<..@.@.8.......
[ 2985.729221] pci_net пакет: 00000020: ff ff 00 44 00 43 01 28 f4 48 01 01 06 00 4a 54  ...D.C.(.H....JT
[ 2985.729223] pci_net пакет: 00000030: b1 c8 00 06 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729223] pci_net пакет: 00000040: 00 00 00 00 00 00 52 54 00 24 af 60 00 00 00 00  ......RT.$.`....
[ 2985.729224] pci_net пакет: 00000050: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729225] pci_net пакет: 00000060: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729226] pci_net пакет: 00000070: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729227] pci_net пакет: 00000080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729227] pci_net пакет: 00000090: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729228] pci_net пакет: 000000a0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729229] pci_net пакет: 000000b0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729230] pci_net пакет: 000000c0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729230] pci_net пакет: 000000d0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729231] pci_net пакет: 000000e0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729232] pci_net пакет: 000000f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729233] pci_net пакет: 00000100: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
[ 2985.729234] pci_net пакет: 00000110: 00 00 00 00 00 00 63 82 53 63 35 01 01 3d 07 01  ......c.Sc5..=..
[ 2985.729234] pci_net пакет: 00000120: 52 54 00 24 af 60 37 11 01 02 06 0c 0f 1a 1c 79  RT.$.`7........y
[ 2985.729235] pci_net пакет: 00000130: 03 21 28 29 2a 77 f9 fc 11 39 02 02 40 0c 0a 64  .!()*w...9..@..d
[ 2985.729236] pci_net пакет: 00000140: 72 69 76 65 72 73 2d 76 6d ff                    rivers-vm.
[ 2986.126578] pci_net: пакет получен в hard_start_xmit, длина=107 байт
[ 2986.126584] pci_net пакет: 00000000: 33 33 00 00 00 fb 52 54 00 24 af 60 86 dd 60 04  33....RT.$.`..`.
[ 2986.126586] pci_net пакет: 00000010: 77 cd 00 35 11 ff fe 80 00 00 00 00 00 00 3a f6  w..5..........:.
[ 2986.126588] pci_net пакет: 00000020: f5 99 7d f0 35 89 ff 02 00 00 00 00 00 00 00 00  ..}.5...........
[ 2986.126589] pci_net пакет: 00000030: 00 00 00 00 00 fb 14 e9 14 e9 00 35 f1 ae 00 00  ...........5....
[ 2986.126590] pci_net пакет: 00000040: 00 00 00 02 00 00 00 00 00 00 05 5f 69 70 70 73  ..........._ipps
[ 2986.126591] pci_net пакет: 00000050: 04 5f 74 63 70 05 6c 6f 63 61 6c 00 00 0c 00 01  ._tcp.local.....
[ 2986.126592] pci_net пакет: 00000060: 04 5f 69 70 70 c0 12 00 0c 00 01                 ._ipp......
```